import{l as g,o,c as l,a as s,b as a,u as _,t as n,f as u,r as y,T as $,s as k,w as N,F as p,p as x,H as f,Q as h,d as v,e as b,z as S,A as L,B as D}from"./vendor-9580edd1.js";import{_ as P,A as C}from"./app-2c5c3ded.js";import{_ as F}from"./FlashMessages.vue_vue_type_script_setup_true_lang-5b5312d0.js";import{i as T,_ as H}from"./Navbar.vue_vue_type_script_setup_true_lang-7477f862.js";import{S as A}from"./Sidebar-1e42415c.js";import{_ as E}from"./AppHead.vue_vue_type_script_setup_true_lang-90b2e62f.js";import{_ as V}from"./Footer.vue_vue_type_script_setup_true_lang-83a668be.js";const z={class:"section"},U=["href"],j={style:{"line-height":"18px"}},q={class:"d-block fw-semibold text-body"},M={class:"text-xs text-muted fw-semibold text-truncate"},J={class:"mt-1 text-xs fw-semibold text-muted"},O=s("span",{class:"mx-1"},"•",-1),Q=s("div",{class:"divider w-100"},null,-1),R=g({__name:"NewsCard",props:{link:{},title:{},desc:{},creator:{},date:{},image:{}},setup(d){return(t,i)=>(o(),l("div",z,[s("a",{href:t.link,class:"d-block squish"},[a(_(T),{sizes:"(max-width: 320px) 280px, 440px",src:t.image,class:"mb-2 blog-thumbnail"},null,8,["src"]),s("div",j,[s("div",q,n(t.title),1),s("div",M,n(t.desc),1),s("div",J,[u(n(t.creator),1),O,u(n(t.date),1)]),Q])],8,U)]))}}),W={class:"gap-3 section flex-container flex-dir-column-sm"},X={class:"mx-auto flex-child-grow",style:{width:"100px"}},B={href:"#",class:"text-sm text-center d-block squish"},G=s("img",{src:"/assets/img/dummy_headshot.png",class:"mb-1 headshot",width:"60"},null,-1),I={style:{"line-height":"16px"}},K={class:"text-truncate"},Y={class:"text-xs text-muted text-truncate"},Z={class:"card card-body card-inner w-100"},ss={class:"align-middle flex-container align-justify"},es={class:"w-100"},ts={class:"text-xs text-muted"},as=s("i",{class:"far fa-clock me-1",style:{"vertical-align":"middle","margin-top":"-2.5px","font-size":"10px"}},null,-1),is=g({__name:"StatusCard",props:{name:{},DisplayName:{},date:{},message:{}},setup(d){return(t,i)=>(o(),l("div",W,[s("div",X,[s("a",B,[G,s("div",I,[s("div",K,n(t.DisplayName),1),s("div",Y,n("@"+t.name),1)])])]),s("div",Z,[s("div",ss,[s("div",es,[s("div",ts,[as,u(" Posted "+n(t.date),1)]),s("div",null,n(t.message),1)])])])]))}}),os={},ds={class:"section"},ls={style:{"line-height":"18px"}},ns={class:"d-block fw-semibold text-body"},cs={class:"text-xs text-muted fw-semibold text-truncate"},rs={class:"mt-1 text-xs fw-semibold text-muted"},ms=s("span",{class:"mx-1"},"•",-1),_s=s("div",{class:"divider w-100"},null,-1);function hs(d,t){const i=y("Skeletor");return o(),l("div",ds,[a(i,{width:"200",height:"130",class:"mb-2 blog-thumbnail"}),s("div",ls,[s("div",ns,[a(i,{width:"80"})]),s("div",cs,[a(i,{width:"40"})]),s("div",rs,[a(i,{width:"80"}),u(),ms,a(i,{width:"60"})]),_s])])}const us=P(os,[["render",hs]]),ps={class:"cell medium-3"},xs={class:"gap-2 mb-3 align-middle card card-body flex-container flex-dir-column"},fs=s("img",{src:"/assets/img/dummy_headshot.png",width:"60",class:"headshot"},null,-1),gs={class:"text-center",style:{"line-height":"16px"}},vs={class:"fw-semibold"},bs={class:"text-xs fw-semibold text-muted"},ws=s("div",{class:"divider w-100"},null,-1),ys=s("div",{class:"w-100"},[s("div",{class:"gap-3 align-middle flex-container"},[s("i",{class:"text-3xl fas fa-medal text-info",style:{width:"40px"}}),s("div",{class:"w-100"},[s("div",{class:"mb-1 flex-container align-justify"},[s("div",{class:"text-xs fw-bold text-muted text-uppercase"}," Rank Lvl. 2 "),s("div",{class:"text-xs fw-bold text-muted text-uppercase"}," 50/200 EXP ")]),s("div",{class:"progress-bar"},[s("span",{class:"progress",style:{width:"25%"}})])])])],-1),$s=s("div",{class:"mb-1 text-xl fw-semibold"}," The Eclipse Times ",-1),ks={class:"card card-body"},Ns={key:0},Ss={key:1},Ls={key:0,class:"gap-3 text-center flex-container flex-dir-column"},Ds=s("i",{class:"text-5xl fas fa-face-sleeping text-muted"},null,-1),Ps=s("div",{style:{"line-height":"18px"}},[s("div",{class:"text-xs fw-bold text-muted text-uppercase"}," No Blog Posts "),s("div",{class:"text-xs text-muted fw-semibold"}," When we publish a post it will appear here. ")],-1),Cs=[Ds,Ps],Fs={class:"cell medium-8"},Ts=s("div",{class:"mb-1 text-xl fw-semibold show-for-small-only"}," Feed ",-1),Hs={class:"mb-3"},As={class:"position-relative"},Es=s("div",{class:"mb-1 text-xl fw-semibold"},"Posts",-1),Vs={class:"card card-body"},zs={key:0,class:"gap-3 text-center flex-container flex-dir-column"},Us=s("i",{class:"text-5xl fas fa-face-sleeping text-muted"},null,-1),js=s("div",{style:{"line-height":"16px"}},[s("div",{class:"text-xs fw-bold text-muted text-uppercase"}," No Posts "),s("div",{class:"text-xs text-muted fw-semibold"}," Start following players and their posts will appear here. ")],-1),qs=[Us,js],Ms={data(){return{Feed:[],NewsLoading:!1,StatusLoading:!1}},mounted(){this.getFeed()},methods:{async getFeed(){try{this.NewsLoading=!0;const d=await x.get(f("api.rss"));this.Feed=d.data,this.NewsLoading=!1}catch(d){this.NewsLoading=!0,console.error(d)}},getStatusList(d){var t=this,i=d?`/my/dashboard?page=${d}`:"/my/dashboard";x.get(i).then(function(c){c.data.hasOwnProperty("success")&&(t.users=c.data)}).catch(function(c){console.log(c)})}}},Gs=g({...Ms,__name:"Dashboard",props:{slist:{type:Array,default:()=>[]}},setup(d){const t=$({message:""}),i=d,c=k(i.slist),w=r=>{const m={dname:h().props.auth.user.display_name,name:h().props.auth.user.display_name,message:r,DateHum:"Just Now"};console.log(i.slist),c.value.push(m),x.post(f("my.dashboard.validate"),{message:r}).then(e=>{console.log("Success:",e)}).catch(e=>{console.error("Error:",e)})};return(r,m)=>(o(),l(p,null,[a(E,{pageTitle:"Dashboard",description:"Login to"+_(h)().props.site.name+".",url:_(f)("auth.login.page")},null,8,["description","url"]),a(H),a(A,null,{default:N(()=>[s("div",ps,[s("div",xs,[fs,s("div",gs,[s("div",vs,n(_(h)().props.auth.user.display_name),1),s("div",bs,n("@"+_(h)().props.auth.user.username),1)]),ws,ys]),$s,s("div",ks,[r.NewsLoading?(o(),l("div",Ns,[a(us)])):(o(),l("div",Ss,[r.Feed?(o(!0),l(p,{key:1},v(r.Feed,e=>(o(),b(R,{key:e.link,link:e.link,creator:e.creator,image:e.image,title:e.title,desc:e.desc,date:e.date},null,8,["link","creator","image","title","desc","date"]))),128)):(o(),l("div",Ls,Cs))]))])]),s("div",Fs,[a(F),Ts,s("form",{onSubmit:m[2]||(m[2]=S((...e)=>r.submit&&r.submit(...e),["prevent"]))},[s("div",Hs,[s("div",As,[L(s("textarea",{class:"mb-2 form form-has-button form-has-section-color pe-5",rows:"5","onUpdate:modelValue":m[0]||(m[0]=e=>_(t).message=e),placeholder:"How are you doing?"},null,512),[[D,_(t).message]]),s("input",{type:"submit",onClick:m[1]||(m[1]=e=>w(_(t).message)),class:"btn btn-success btn-sm has-ripple",value:"Post",style:{position:"absolute",bottom:"10px",right:"10px"}})])])],32),Es,s("div",Vs,[c.value?(o(!0),l(p,{key:1},v(c.value.data,e=>(o(),b(is,{DisplayName:e.dname,name:e.name,message:e.message,date:e.DateHum},null,8,["DisplayName","name","message","date"]))),256)):(o(),l("div",zs,qs))]),a(C,{pagedata:c.value,onPageClicked:r.getStatusList},null,8,["pagedata","onPageClicked"])])]),_:1}),a(V)],64))}});export{Gs as default};
