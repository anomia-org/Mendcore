import{_ as q,i as P}from"./Navbar.vue_vue_type_script_setup_true_lang-7477f862.js";import{S as I}from"./Sidebar-1e42415c.js";import{_ as M}from"./Footer.vue_vue_type_script_setup_true_lang-83a668be.js";import{l as C,s as m,m as S,o as r,c as n,b as p,w as B,F as k,p as v,H as _,Q as N,a as t,t as D,d as H,n as E,y as i,C as V,e as j,u as T}from"./vendor-9580edd1.js";import"./app-2c5c3ded.js";const z={class:"modal",id:"PartsModal"},F={class:"modal-card modal-card-body modal-card-sm"},O={class:"section-borderless"},U={class:"gap-2 align-middle flex-container align-justify"},Y={key:0,class:"text-lg fw-semibold"},K={key:1,class:"text-lg fw-semibold"},Q=t("i",{class:"fas fa-times"},null,-1),G=[Q],J={class:"section-borderless grid-x mr-2"},W=["onClick"],X=t("div",{class:"text-xs text-muted fw-semibold"}," After changing your avatar part your avatar will rerender with the changes applied. ",-1),Z={class:"flex-wrap gap-2 flex-container justify-content-end section-borderless"},tt={class:"cell medium-3"},et={class:"mb-3 card card-body"},at={key:1,class:"fa-duotone fa-arrows-spin grid-x align-center text-center text-3xl text-info fa-spin"},st={class:"min-w-0 gap-2 mt-3 flex-container"},ot=t("button",{class:"btn btn-info btn-sm text-truncate w-100"}," Random ",-1),lt={class:"text-center"},rt={class:"card card-body"},nt={style:{"margin-bottom":"2.5px"}},it={style:{"margin-bottom":"2.5px"}},dt=t("div",{class:"cell medium-8"},[t("div",{class:"mb-1 align-middle flex-container align-justify"},[t("div",{class:"mb-1 text-xl fw-semibold"},"Inventory")]),t("div",{class:"mb-3 card card-body"},[t("div",{class:"gap-3 text-center flex-container flex-dir-column"},[t("i",{class:"text-5xl fas fa-wand-magic-sparkles text-muted"}),t("div",{style:{"line-height":"16px"}},[t("div",{class:"text-xs fw-bold text-muted text-uppercase"}," No Items. "),t("div",{class:"text-xs text-muted fw-semibold"}," You are not wearing any items. ")])])]),t("div",{class:"mb-3 card card-body"},[t("div",{class:"section"},[t("ul",{class:"tabs"},[t("li",{class:"tab-item"},[t("a",{href:"#",class:"tab-link active squish"},"Hats")]),t("li",{class:"tab-item"},[t("a",{href:"#",class:"tab-link squish"},"Shirts")]),t("li",{class:"tab-item"},[t("a",{href:"#",class:"tab-link squish"},"Accessories")]),t("li",{class:"tab-item"},[t("a",{href:"#",class:"tab-link squish"},"Pants")]),t("li",{class:"tab-item"},[t("a",{href:"#",class:"tab-link squish"},"Heads")])])]),t("div",{class:"section"},[t("div",{class:"gap-3 text-center flex-container flex-dir-column"},[t("i",{class:"text-5xl fas fa-crate-apple text-muted"}),t("div",{style:{"line-height":"16px"}},[t("div",{class:"text-xs fw-bold text-muted text-uppercase"}," No insert_category_name_here "),t("div",{class:"text-xs text-muted fw-semibold"}," You have no items in the category. ")])])])])],-1),ct=C({props:{avatar:{type:Object,required:!0}},methods:{wearItem(){const f={action:"wear",id:1};v.post("/your-php-endpoint-url",f).then(o=>{console.log(o.data)}).catch(o=>{console.error(o)})}},data(){return{colors:this.$page.props.colors,userAvatar:{color_head:this.avatar.color_head,color_torso:this.avatar.color_torso,color_left_arm:this.avatar.color_left_arm,color_right_arm:this.avatar.color_right_arm,color_left_leg:this.avatar.color_left_leg,color_right_leg:this.avatar.color_right_leg,image:this.avatar.thumbnail,items:[{hats:{hat_1:this.avatar.hat_1,hat_2:this.avatar.hat_2,hat_3:this.avatar.hat_3,hat_4:this.avatar.hat_4,hat_5:this.avatar.hat_5,hat_6:this.avatar.hat_6},face:this.avatar.face,gear:this.avatar.gear,shirt:this.avatar.shirt,pants:this.avatar.pants}]}}}}),pt=C({...ct,__name:"Index",setup(f){const o=m(null),u=m(null),l=m(!1),b=m(0);function h(a){const e=document.getElementById(a);e&&e.classList.toggle("active")}const w={head:"Head",left_arm:"Left Arm",torso:"Torso",right_arm:"Right Arm",left_leg:"Left Leg",right_leg:"Right Leg"};function R(){l.value=!0;const a={action:"reset"};v.post(_("avatar.update"),a).then(e=>{console.log(e.data),b.value+=1,y(),l.value=!1}).catch(e=>{console.error(e)}),console.log("Resetting")}let x="";async function y(){l.value=!0;try{const e=(await v.get(_("api.thumbnails",{type:2,id:N().props.auth.user.id}),{maxRedirects:0})).headers.location;e?(x=e,console.log(x)):console.error("No redirection URL found in the response headers."),l.value=!1}catch(a){l.value=!1,console.error(a)}}function $(a,e){document.addEventListener("DOMContentLoaded",function(){l.value=!0;const s={action:"color",body_part:e,color:a};v.post(_("avatar.update"),s).then(c=>{console.log(c.data),b.value+=1;const g=document.getElementById(e);g?(g.style.backgroundColor=a,l.value=!1,u.value=a):console.error(`Element with ID ${e} not found.`)}).catch(c=>{l.value=!1,console.error(c)}),console.log(`Changing ${e} color to: ${a}`)})}function A(a){o.value=a}function L(a){u.value=a}function d(a){h("PartsModal"),A(a)}return S(()=>{y()}),(a,e)=>(r(),n(k,null,[p(q),p(I,null,{default:B(()=>[t("div",z,[t("div",F,[t("div",O,[t("div",U,[o.value?(r(),n("div",Y," Change "+D(w[o.value])+" Color ",1)):(r(),n("div",K," Select a part to change its color ")),t("button",{onClick:e[0]||(e[0]=s=>h("PartsModal")),class:"btn-circle","data-toggle-modal":"#PartsModal",style:{"margin-right":"-10px"}},G)])]),t("div",J,[(r(!0),n(k,null,H(a.colors,(s,c)=>(r(),n("div",{class:"mr-2",key:c.name},[t("div",{class:E(["ColorPickerItem",{active:u.value===s||a.userAvatar[`color_${o.value}`]===s}]),onClick:g=>L(s),style:i({backgroundColor:"#"+s,display:"inline-block",width:"32px",height:"32px"})},null,14,W)]))),128)),X,t("div",Z,[t("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=s=>h("PartsModal"))}," Cancel "),o.value&&!l.value?(r(),n("input",{key:0,onClick:e[2]||(e[2]=s=>$(u.value,o.value)),type:"submit",class:"btn btn-success",value:"Submit"})):V("",!0)])])])]),t("div",tt,[t("div",et,[l.value?(r(),n("i",at)):(r(),j(T(P),{key:0,src:a.userAvatar.image,"src-placeholder":"&"},null,8,["src"])),t("div",st,[t("button",{onClick:e[3]||(e[3]=s=>R()),class:"btn btn-danger btn-sm text-truncate w-100"}," Reset "),ot])]),t("div",lt,[t("div",rt,[t("div",nt,[t("button",{class:"avatar-body-part",id:"Head",style:i({backgroundColor:"#"+a.userAvatar.color_head,padding:"25px",borderRadius:"15px",marginTop:"-1px"}),onClick:e[4]||(e[4]=s=>d("head"))},null,4)]),t("div",it,[t("button",{class:"avatar-body-part",id:"Left-Arm",style:i({backgroundColor:"#"+a.userAvatar.color_left_arm,padding:"50px",paddingRight:"0px"}),onClick:e[5]||(e[5]=s=>d("left_arm"))},null,4),t("button",{class:"avatar-body-part",id:"Torso",style:i({backgroundColor:"#"+a.userAvatar.color_torso,padding:"50px"}),onClick:e[6]||(e[6]=s=>d("torso"))},null,4),t("button",{class:"avatar-body-part",id:"Right-Arm",style:i({backgroundColor:"#"+a.userAvatar.color_right_arm,padding:"50px",paddingRight:"0px"}),onClick:e[7]||(e[7]=s=>d("right_arm"))},null,4)]),t("div",null,[t("button",{class:"avatar-body-part",name:"Left Leg",onClick:e[8]||(e[8]=s=>d("left_leg")),style:i({backgroundColor:"#"+a.userAvatar.color_left_leg,padding:"50px",paddingRight:"0px",paddingLeft:"47px"})},null,4),t("button",{class:"avatar-body-part",name:"Right Leg",onClick:e[9]||(e[9]=s=>d("right_leg")),style:i({backgroundColor:"#"+a.userAvatar.color_right_leg,padding:"50px",paddingRight:"0px",borderBottom:"15px",paddingLeft:"47px"})},null,4)])])])]),dt]),_:1}),p(M)],64))}});export{pt as default};
