import{_ as p}from"./Navbar.vue_vue_type_script_setup_true_lang-7477f862.js";import{_ as v}from"./Footer.vue_vue_type_script_setup_true_lang-83a668be.js";import{S as y}from"./Sidebar-1e42415c.js";import{o as d,c as u,a as e,n as o,F as m,d as x,t as f,l as k,b as l,w as g,p as P,H as h,u as c,i as _,f as b}from"./vendor-9580edd1.js";import{_ as C}from"./app-2c5c3ded.js";const B={props:{currentPage:Number,totalPages:Number},computed:{pages(){const n=Math.max(1,this.currentPage-2),t=Math.min(this.totalPages,this.currentPage+2),s=[];for(let a=n;a<=t;a++)s.push(a);return s}},methods:{changePage(n){this.currentPage!==n&&this.$emit("page-change",n)},prevPage(){this.changePage(this.currentPage-1)},nextPage(){this.changePage(this.currentPage+1)}}},S={"aria-label":"Page navigation"},w={class:"pagination justify-content-center"},N=e("span",{"aria-hidden":"true"},"««",-1),U=[N],$=e("span",{"aria-hidden":"true"},"«",-1),O=[$],F=["onClick"],L=e("span",{"aria-hidden":"true"},"»",-1),j=[L],A=e("span",{"aria-hidden":"true"},"»»",-1),M=[A];function V(n,t,s,a,Y,i){return d(),u("nav",S,[e("ul",w,[e("li",{class:o(["page-item",{disabled:s.currentPage===1}])},[e("a",{class:"page-link",onClick:t[0]||(t[0]=r=>i.changePage(1)),"aria-label":"First"},U)],2),e("li",{class:o(["page-item",{disabled:s.currentPage===1}])},[e("a",{class:"page-link",onClick:t[1]||(t[1]=(...r)=>i.prevPage&&i.prevPage(...r)),"aria-label":"Previous"},O)],2),(d(!0),u(m,null,x(i.pages,r=>(d(),u("li",{class:o(["page-item",{active:s.currentPage===r}]),key:r},[e("a",{class:"page-link",onClick:Z=>i.changePage(r)},f(r),9,F)],2))),128)),e("li",{class:o(["page-item",{disabled:s.currentPage===s.totalPages}])},[e("a",{class:"page-link",onClick:t[2]||(t[2]=(...r)=>i.nextPage&&i.nextPage(...r)),"aria-label":"Next"},j)],2),e("li",{class:o(["page-item",{disabled:s.currentPage===s.totalPages}])},[e("a",{class:"page-link",onClick:t[3]||(t[3]=r=>i.changePage(s.totalPages)),"aria-label":"Last"},M)],2)])])}const H=C(B,[["render",V]]),z={class:"cell small-12"},D=e("div",{class:"mb-2 text-3xl fw-semibold align-center"},"Users",-1),E={class:"grid-x align-center"},I={class:"gap-2 align-middle flex-container"},T=["src"],q={class:"flex-wrap col-md-4 d-flex justify-content-center align-content-start",style:{"flex-direction":"column"}},G={class:"text-start"},J=e("div",null,null,-1),K=e("div",null,null,-1),Q=e("div",{class:"mx-1 my-2 divider"},null,-1),R=e("button",{class:"btn btn-info btn-block"},"Follow User",-1),W=e("div",{class:"mx-3 my-3 divider"},null,-1),X={data(){return{currentPage:slist.current_page,totalPages:slist.last_page}},methods:{getUserList(n){var t=this,s=n?`/users/discover/?page=${n}`:"/users/discover";P.get(s).then(function(a){a.data.hasOwnProperty("success")&&(t.users=a.data.users,t.tags=a.data.users.data)}).catch(function(a){console.log(a)})},async fetchUserStatus(){this.userstat.fetchingStatus=!0;const n=this.userstat.online;try{const t=await P.get(h("api.user.online",{id:this.userstat.id}));this.userstat.online=t.data.online}catch(t){console.error(t),this.userstat.online=n}finally{this.userstat.fetchingStatus=!1}}},data(){return{userstat:{online:!1,id:this.users.id,fetchingStatus:!1}}},created(){this.fetchUserStatus()},computed:{userStatus(){return this.userstat.online?"Online":"Offline"},userStatusClass(){return this.userstat.online?"online":"offline"}}},re=k({...X,__name:"Index",props:{users:{type:Object}},setup(n){return(t,s)=>(d(),u(m,null,[l(p),l(y,null,{default:g(()=>[e("div",z,[D,e("div",E,[(d(!0),u(m,null,x(n.users.data,a=>(d(),u("div",{class:o(["mx-2 mb-3 row card avatar card-body",["mb-3","card","card-body","card-status",t.userStatusClass]]),key:n.users.id},[e("div",I,[l(c(_),{href:c(h)("user.profile",{username:a.username})},{default:g(()=>[e("img",{src:a.avatar,style:{"max-width":"65px"},class:"border img-fluid headshot rounded-circle border-secondary bg-dark",alt:"2oddMacs1"},null,8,T)]),_:2},1032,["href"]),e("div",q,[e("div",G,[l(c(_),{href:c(h)("user.profile",{username:a.username}),class:"text-md"},{default:g(()=>[b(f(a.dname),1)]),_:2},1032,["href"]),J,l(c(_),{href:c(h)("user.profile",{username:a.username}),class:"text-sm fw-semibold text-body"},{default:g(()=>[b(f("@"+a.username),1)]),_:2},1032,["href"]),K])])]),Q,R],2))),128))]),W,l(H,{"current-page":t.currentPage,"total-pages":t.totalPages,onPageChange:t.getUserList},null,8,["current-page","total-pages","onPageChange"])])]),_:1}),l(v)],64))}});export{re as default};
