import{l as C,r as B,o as i,c as a,u as s,Q as p,C as w,a as t,F as f,d as v,b as m,w as b,f as _,t as l,H as u,n as g,M as y,T as N,A as $,B as j,z as L,p as P}from"./vendor-9580edd1.js";import{_ as T}from"./Navbar.vue_vue_type_script_setup_true_lang-7477f862.js";import{S as F}from"./Sidebar-1e42415c.js";import{_ as M}from"./Footer.vue_vue_type_script_setup_true_lang-83a668be.js";import{_ as O}from"./AppHead.vue_vue_type_script_setup_true_lang-90b2e62f.js";import"./app-2c5c3ded.js";const V=t("div",{class:"mb-2 text-xl fw-semibold"},"Forum",-1),q=t("div",{class:"divider w-100"},null,-1),D={class:"tabs flex-dir-column"},H=t("button",{class:"mb-2 btn btn-danger btn-xs btn-block btn-no-anim forum-button mt-2"},[t("i",{class:"fa-solid fa-megaphone fa-xs"}),_(" Official ")],-1),S={key:0,class:"fas fa-lock"},z={class:"text-xs"},E=t("button",{class:"mb-2 btn btn-warning btn-xs btn-block btn-no-anim forum-button mt-2"},[t("i",{class:"fa-solid fa-party-horn fa-xs"}),_(" Community ")],-1),I={class:"tab-item"},U={class:"text-xs"},A=t("button",{class:"mb-2 btn btn-info btn-xs btn-block btn-no-anim forum-button mt-2"},[t("i",{class:"fa-solid fa-triangle-exclamation fa-xs"}),_(" Serious ")],-1),Q={class:"tab-item"},Y={class:"text-xs"},G=C({__name:"ForumSidebar",props:["topic","section_one","section_two","section_three"],setup(o){function x(d){const r=document.getElementById(d);r&&r.classList.toggle("active")}return(d,r)=>{const h=B("Link");return i(),a(f,null,[V,s(p)().props.auth.user&&s(p)().props.auth.user.staff!=!1?(i(),a("button",{key:0,class:"mb-2 btn btn-danger btn-xs btn-block forum-button",onClick:r[0]||(r[0]=e=>x("forum-modal"))}," New Post ")):s(p)().props.auth.user&&s(p)().props.auth.user.staff!=!0&&o.topic.is_staff_only_posting=="0"?(i(),a("button",{key:1,class:"mb-2 btn btn-success btn-xs btn-block forum-button",onClick:r[1]||(r[1]=e=>x("forum-modal"))}," New Post ")):w("",!0),q,t("ul",D,[H,(i(!0),a(f,null,v(o.section_one,e=>(i(),a("li",{key:e.id,class:"tab-item"},[m(h,{href:s(u)("forum.page",{id:e.id}),class:g(["tab-link squish",[s(y)("forum.page",e.id)?"active":""]])},{default:b(()=>[e.is_staff_only_posting=="1"?(i(),a("i",S)):w("",!0),_(" "+l(e.name)+" ",1),t("div",z,l(e.description),1)]),_:2},1032,["href","class"])]))),128)),E,(i(!0),a(f,null,v(o.section_two,e=>(i(),a("li",I,[m(h,{href:s(u)("forum.page",{id:e.id}),class:g(["tab-link squish",[s(y)("forum.page",e.id)?"active":""]])},{default:b(()=>[_(l(e.name)+" ",1),t("div",U,l(e.description),1)]),_:2},1032,["href","class"])]))),256)),A,(i(!0),a(f,null,v(o.section_three,e=>(i(),a("li",Q,[m(h,{href:s(u)("forum.page",{id:e.id}),class:g(["tab-link squish",[s(y)("forum.page",e.id)?"active":""]])},{default:b(()=>[_(l(e.name)+" ",1),t("div",Y,l(e.description),1)]),_:2},1032,["href","class"])]))),256))])],64)}}}),J={class:"modal",id:"forum-modal"},K={class:"modal-card modal-card-body modal-card-sm"},R={class:"section-borderless"},W={class:"gap-2 align-middle flex-container align-justify"},X=t("div",{class:"text-lg fw-semibold"},"New Post",-1),Z=t("i",{class:"fas fa-times"},null,-1),tt=[Z],et={class:"section-borderless"},st={class:"mb-2"},ot=t("div",{class:"text-xs fw-bold text-muted text-uppercase"}," Post Title ",-1),nt={class:"mb-2"},it=t("div",{class:"text-xs fw-bold text-muted text-uppercase"}," Post Body ",-1),at={class:"flex-wrap gap-2 flex-container justify-content-end section-borderless"},lt=["onSubmit"],ct=["disabled","value"],dt={class:"cell medium-4"},rt={class:"cell medium-8"},mt={class:"mb-2 text-sm fw-semibold"},ut={class:"card"},_t={class:"pb-0 card-body"},ft={key:0,class:"gap-3 text-center flex-container flex-dir-column"},bt=t("i",{class:"text-5xl fas fa-message-xmark text-muted"},null,-1),ht=t("div",{style:{"line-height":"16px"}},[t("div",{class:"text-xs fw-bold text-muted text-uppercase"}," No Forum Posts "),t("div",{class:"text-muted fw-semibold"},[t("p",{class:"text-xs"},"There are currently no posts in this category.")])],-1),pt=[bt,ht],xt={class:"mb-3 row thread"},vt=t("div",{class:"mx-1 my-3 divider"},null,-1),gt={class:"gap-2 align-middle flex-container"},yt=["href"],wt=["src"],kt={class:"flex-wrap col-md-4 d-flex justify-content-center align-content-start",style:{"flex-direction":"column"}},$t={class:"text-start"},jt=t("div",null,null,-1),Ct={class:"text-xs text-muted fw-semibold text-body"},Bt=t("div",{class:"mx-1 my-3 divider"},null,-1),Nt={props:{topic:Object,posts:Object,section_one:Object,section_two:Object,section_three:Object},methods:{getCurrentpath(o){if(u("forum.page",{id:o})===window.location.href)return window.location.pathname}}},Vt=C({...Nt,__name:"Index",props:{posts:{type:Object},section_one:{type:Object},section_two:{type:Object},section_three:{type:Object},topic:{type:Object,required:!0}},setup(o){const x=o,d=N({title:"",body:""});function r(e){const c=document.getElementById(e);c&&c.classList.toggle("active")}const h=()=>{P.get("/sanctum/csrf-cookie").then(e=>{d.post(u("forum.create.validate",{id:x.topic.id}),{onFinish:()=>d.reset("password")})})};return(e,c)=>{const k=B("Link");return i(),a(f,null,[m(O,{pageTitle:"Discuss",description:"Here, You can discuss with the community surrounding several topics on "+s(p)().props.site.name+".",url:s(u)("forum.page",{id:o.topic.id})},null,8,["description","url"]),t("div",J,[t("div",K,[t("div",R,[t("div",W,[X,t("button",{onClick:c[0]||(c[0]=n=>r("forum-modal")),class:"btn-circle","data-toggle-modal":"#forum-modal",style:{"margin-right":"-10px"}},tt)])]),t("div",et,[t("div",st,[ot,$(t("input",{type:"text",class:"form",name:"title","onUpdate:modelValue":c[1]||(c[1]=n=>s(d).title=n),placeholder:"Title..."},null,512),[[j,s(d).title]])]),t("div",nt,[it,$(t("textarea",{id:"post-body",class:"mb-2 form",name:"body","onUpdate:modelValue":c[2]||(c[2]=n=>s(d).body=n),placeholder:"Body",maxlength:"4096"},null,512),[[j,s(d).body]])])]),t("div",at,[t("form",{onSubmit:L(h,["prevent"])},[t("button",{class:"btn btn-secondary",onClick:c[3]||(c[3]=n=>r("forum-modal"))}," Cancel "),t("input",{type:"submit",class:"btn btn-success",disabled:s(d).processing,value:"Post in "+o.topic.name},null,8,ct)],40,lt)])])]),m(T),m(F,null,{default:b(()=>[t("div",dt,[m(G,{topic:o.topic,section_one:o.section_one,section_two:o.section_two,section_three:o.section_three},null,8,["topic","section_one","section_two","section_three"])]),t("div",rt,[t("div",mt,l(o.topic.name)+" • "+l(o.topic.description),1),t("div",ut,[t("div",_t,[o.posts.data.length?w("",!0):(i(),a("div",ft,pt)),(i(!0),a(f,null,v(o.posts.data,n=>(i(),a("div",xt,[vt,t("div",gt,[t("a",{href:s(u)("user.profile",{username:n.username})},[t("img",{src:n.headshot,style:{"max-width":"65px"},class:"border img-fluid headshot rounded-circle border-secondary bg-dark",alt:"2oddMacs1"},null,8,wt)],8,yt),t("div",kt,[t("div",$t,[m(k,{href:s(u)("forum.post",{id:n.id,slug:n.seo}),class:"text-md"},{default:b(()=>[_(l(n.name),1)]),_:2},1032,["href"]),jt,m(k,{href:s(u)("user.profile",{username:n.username}),class:"text-sm fw-semibold text-body"},{default:b(()=>[_(l(n.display_name)+" • "+l(n.DateHum),1)]),_:2},1032,["href"]),t("div",Ct," @"+l(n.username),1)])])])]))),256)),Bt])])])]),_:1}),m(M)],64)}}});export{Vt as default};
